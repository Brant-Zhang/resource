<svg id="mermaid-1602312288168" width="1167.390625" xmlns="http://www.w3.org/2000/svg" height="359.5" viewBox="0 0 1167.390625 359.5"><style>#mermaid-1602312288168{font-family:"trebuchet ms",verdana,arial;font-size:16px;fill:#333;}#mermaid-1602312288168 .error-icon{fill:#552222;}#mermaid-1602312288168 .error-text{fill:#552222;stroke:#552222;}#mermaid-1602312288168 .edge-thickness-normal{stroke-width:2px;}#mermaid-1602312288168 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1602312288168 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1602312288168 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1602312288168 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1602312288168 .marker{fill:#333333;}#mermaid-1602312288168 .marker.cross{stroke:#333333;}#mermaid-1602312288168 svg{font-family:"trebuchet ms",verdana,arial;font-size:16px;}#mermaid-1602312288168 .label{font-family:"trebuchet ms",verdana,arial;color:#333;}#mermaid-1602312288168 .label text{fill:#333;}#mermaid-1602312288168 .node rect,#mermaid-1602312288168 .node circle,#mermaid-1602312288168 .node ellipse,#mermaid-1602312288168 .node polygon,#mermaid-1602312288168 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1602312288168 .node .label{text-align:center;}#mermaid-1602312288168 .node.clickable{cursor:pointer;}#mermaid-1602312288168 .arrowheadPath{fill:#333333;}#mermaid-1602312288168 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaid-1602312288168 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1602312288168 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1602312288168 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1602312288168 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1602312288168 .cluster text{fill:#333;}#mermaid-1602312288168 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1602312288168:root{--mermaid-font-family:"trebuchet ms",verdana,arial;}#mermaid-1602312288168 flowchart-v2{fill:apa;}</style><g transform="translate(0, 2)"><marker id="flowchart-pointEnd" class="marker flowchart" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="flowchart-pointStart" class="marker flowchart" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="flowchart-circleEnd" class="marker flowchart" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="flowchart-circleStart" class="marker flowchart" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="flowchart-crossEnd" class="marker cross flowchart" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="flowchart-crossStart" class="marker cross flowchart" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"><g class="cluster" id="leader"><rect rx="0" ry="0" x="205.25" y="8" width="722.328125" height="341.5"></rect><g class="cluster-label" transform="translate(509.5703125, 6)"><foreignObject width="113.6875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">leader raft core</span></div></foreignObject></g></g><g class="cluster" id="pg"><rect rx="0" ry="0" x="349.71875" y="196" width="189.328125" height="104"></rect><g class="cluster-label" transform="translate(394.0703125, 194)"><foreignObject width="100.625" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">peer_progress</span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M64.015625,196L75.78515625,196C87.5546875,196,111.09375,196,134.6328125,196C158.171875,196,181.7109375,196,197.64713541666666,196C213.58333333333334,196,221.91666666666666,196,226.08333333333334,196L230.25,196" id="L-a-handler" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-a LE-handler" marker-end="url(#flowchart-pointEnd)"></path><path d="M272.451171875,179L281.1624348958333,159.16666666666666C289.8736979166667,139.33333333333334,307.2962239583333,99.66666666666667,320.1741536458333,79.83333333333333C333.0520833333333,60,341.3854166666667,60,349.71875,60C358.0520833333333,60,366.3854166666667,60,370.5520833333333,60L374.71875,60" id="L-handler-get_commitIndex" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-handler LE-get_commitIndex" marker-end="url(#flowchart-pointEnd)"></path><path d="M284.5129206730769,179L291.2138922275641,173.16666666666666C297.91486378205127,167.33333333333334,311.31680689102564,155.66666666666666,322.1844451121795,149.83333333333334C333.0520833333333,144,341.3854166666667,144,349.87109375,144C358.3567708333333,144,366.9947916666667,144,371.3138020833333,144L375.6328125,144" id="L-handler-wait_log_applied" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-handler LE-wait_log_applied" marker-end="url(#flowchart-pointEnd)"></path><path d="M284.5129206730769,213L291.2138922275641,218.83333333333334C297.91486378205127,224.66666666666666,311.31680689102564,236.33333333333334,322.1844451121795,242.16666666666666C333.0520833333333,248,341.3854166666667,248,361.3294270833333,248C381.2734375,248,412.828125,248,428.60546875,248L444.3828125,248" id="L-handler-ps" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-handler LE-ps" marker-end="url(#flowchart-pointEnd)"></path><path d="M444.3828125,248L460.16015625,248C475.9375,248,507.4921875,248,533.3385416666666,248C559.1848958333334,248,579.3229166666666,248,600.0598958333334,248C620.796875,248,642.1328125,248,652.80078125,248L663.46875,248" id="L-ps-msgs" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-ps LE-msgs" marker-end="url(#flowchart-pointEnd)"></path><path d="M712.734375,248L722.453125,248C732.171875,248,751.609375,248,770.4479166666666,248C789.2864583333334,248,807.5260416666666,248,816.6458333333334,248L825.765625,248" id="L-msgs-manager" class=" edge-thickness-normal edge-pattern-dotted flowchart-link LS-msgs LE-manager" marker-end="url(#flowchart-pointEnd)"></path><path d="M902.578125,248L906.7447916666666,248C910.9114583333334,248,919.2447916666666,248,931.9622395833334,248C944.6796875,248,961.78125,248,978.8828125,249.82588804259908C995.984375,251.65177608519818,1013.0859375,255.30355217039633,1021.63671875,257.1294402129954L1030.1875,258.9553282555945" id="L-manager-fw" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-manager LE-fw" marker-end="url(#flowchart-pointEnd)"></path><path d="M1030.1875,299.0852824211378L1021.63671875,302.5710686842815C1013.0859375,306.05685494742517,995.984375,313.0284274737126,978.8828125,316.51421373685633C961.78125,320,944.6796875,320,925.5611979166666,320C906.4427083333334,320,885.3072916666666,320,859.21875,320C833.1302083333334,320,802.0885416666666,320,772.7434895833334,320C743.3984375,320,715.75,320,687.15234375,320C658.5546875,320,629.0078125,320,604.1653645833334,320C579.3229166666666,320,559.1848958333334,320,533.3385416666666,320C507.4921875,320,475.9375,320,444.3828125,320C412.828125,320,381.2734375,320,361.3294270833333,320C341.3854166666667,320,333.0520833333333,320,320.29458585349465,302.1666666666667C307.53708837365593,284.3333333333333,290.3554267473118,248.66666666666666,281.7645959341398,230.83333333333334L273.17376512096774,213" id="L-fw-handler" class=" edge-thickness-normal edge-pattern-solid flowchart-link LS-fw LE-handler" marker-end="url(#flowchart-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(134.6328125, 196)"><g class="label" transform="translate(-45.6171875, -9.5)"><foreignObject width="91.234375" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">read request</span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(599.4609375, 248)"><g class="label" transform="translate(-35.4140625, -9.5)"><foreignObject width="70.828125" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">heartbeat</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(771.046875, 248)"><g class="label" transform="translate(-29.71875, -9.5)"><foreignObject width="59.4375" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">asyn get</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(978.8828125, 248)"><g class="label" transform="translate(-26.3046875, -9.5)"><foreignObject width="52.609375" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">send to</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(688.1015625, 320)"><g class="label" transform="translate(-28.2265625, -9.5)"><foreignObject width="56.453125" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">hb echo</span></div></foreignObject></g></g></g><g class="nodes"><g class="node undefined" id="handler" transform="translate(264.984375, 196)"><rect class="basic label-container" rx="0" ry="0" x="-34.734375" y="-17" width="69.46875" height="34"></rect><g class="label" transform="translate(-27.234375, -9.5)"><foreignObject width="54.46875" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">handler</span></div></foreignObject></g></g><g class="node undefined" id="get_commitIndex" transform="translate(444.3828125, 60)"><rect class="basic label-container" rx="0" ry="0" x="-69.6640625" y="-17" width="139.328125" height="34"></rect><g class="label" transform="translate(-62.1640625, -9.5)"><foreignObject width="124.328125" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">get_commitIndex</span></div></foreignObject></g></g><g class="node undefined" id="wait_log_applied" transform="translate(444.3828125, 144)"><rect class="basic label-container" rx="0" ry="0" x="-68.75" y="-17" width="137.5" height="34"></rect><g class="label" transform="translate(-61.25, -9.5)"><foreignObject width="122.5" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">wait_log_applied</span></div></foreignObject></g></g><g class="node undefined" id="msgs" transform="translate(688.1015625, 248)"><rect class="basic label-container" rx="0" ry="0" x="-24.6328125" y="-17" width="49.265625" height="34"></rect><g class="label" transform="translate(-17.1328125, -9.5)"><foreignObject width="34.265625" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">msgs</span></div></foreignObject></g></g><g class="node undefined" id="manager" transform="translate(864.171875, 248)"><rect class="basic label-container" rx="0" ry="0" x="-38.40625" y="-17" width="76.8125" height="34"></rect><g class="label" transform="translate(-30.90625, -9.5)"><foreignObject width="61.8125" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">manager</span></div></foreignObject></g></g><g class="node default" id="ps" transform="translate(444.3828125, 248)"><polygon points="-17,0 54.0625,0 54.0625,-34 -17,-34 0,-17" class="label-container" transform="translate(-27.03125,17)"></polygon><g class="label" transform="translate(-19.53125, -9.5)"><foreignObject width="39.0625" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">peers</span></div></foreignObject></g></g><g class="root" transform="translate(1022.1875, 221.75)"><g class="clusters"><g class="cluster" id="fw"><rect rx="0" ry="0" x="8" y="8" width="129.203125" height="84"></rect><g class="cluster-label" transform="translate(39.671875, 6)"><foreignObject width="65.859375" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">followers</span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g class="node undefined" id="server" transform="translate(72.6015625, 50)"><rect class="basic label-container" rx="0" ry="0" x="-29.6015625" y="-17" width="59.203125" height="34"></rect><g class="label" transform="translate(-22.1015625, -9.5)"><foreignObject width="44.203125" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">server</span></div></foreignObject></g></g></g></g><g class="node undefined" id="a" transform="translate(36.0078125, 196)"><rect class="basic label-container" rx="0" ry="0" x="-28.0078125" y="-17" width="56.015625" height="34"></rect><g class="label" transform="translate(-20.5078125, -9.5)"><foreignObject width="41.015625" height="19"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">client</span></div></foreignObject></g></g></g></g></g></svg>